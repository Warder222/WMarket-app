<!DOCTYPE html>
<html>
<head>
    <title>WMarket</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="telegram-web-app-bot-domain" content="https://3kzigz8otwxr.share.zrok.io/">
    <link rel="stylesheet" href="/static/css/auth.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <div class="logo">
            <img src="/static/img/testlogo.jpg">
        </div>

        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –º–∞—Ä–∫–µ—Ç</h1>
        <br>
        <button disabled class="tg-button" id="auth-button">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</button>

        <div class="footer">
            <input id="agree-button" type="checkbox" onchange="document.getElementById('auth-button').disabled = !this.checked;">
            <a onclick="toggleContent()">
                –ü—Ä–æ–¥–æ–ª–∂–∞—è, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ <u>–£—Å–ª–æ–≤–∏—è–º–∏ –∏ –ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</u>
            </a>
            <div id="overlay-block" class="overlay">
                <p>
                    1.1. –í –Ω–∞—Å—Ç–æ—è—â–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –∏ –≤—ã—Ç–µ–∫–∞—é—â–∏—Ö –∏–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –°—Ç–æ—Ä–æ–Ω –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:<br>
                    –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äì –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —Å—É–±—ä–µ–∫—Ç–æ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –¥–∞–Ω–Ω—ã–µ, –æ–±—ä–µ–º –∏ —Å–æ—Å—Ç–∞–≤ –∫–æ—Ç–æ—Ä—ã—Ö —É–∫–∞–∑–∞–Ω—ã –≤ –ø.–•.–•. –ü–æ–ª–∏—Ç–∏–∫–∏.<br>
                    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äì –û–û–û ¬´–†–æ–º–∞—à–∫–∞¬ª, –ò–ù–ù –•–•–•, –û–ì–†–ù –•–•–•, –ê–¥—Ä–µ—Å: –•–•–•–•–•, –≤ –∑–∞–∫–æ–Ω–Ω–æ–º –≤–ª–∞–¥–µ–Ω–∏–∏ –∏/–∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–∞–π—Ç. 
                    –í –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç–æ—è—â–µ–π –ü–æ–ª–∏—Ç–∏–∫–æ–π —Å–ª—É—á–∞—è—Ö –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.<br>
                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äì –ª–∏—Ü–æ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ –°–∞–π—Ç –≤ —Ü–µ–ª—è—Ö –∑–∞–∫–ª—é—á–µ–Ω–∏—è –∏/–∏–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –î–æ–≥–æ–≤–æ—Ä–æ–≤.<br>
                    –î–æ–≥–æ–≤–æ—Ä ‚Äì –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –°–∞–π—Ç–∞, –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏, 
                    –¥–æ–≥–æ–≤–æ—Ä –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∏/–∏–ª–∏ –∏–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ –∫ –∑–∞–∫–ª—é—á–µ–Ω–∏—é –∏/–∏–ª–∏ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ª—é–±–æ–π –æ—Ñ–µ—Ä—Ç—ã, —Ä–∞–∑–º–µ—â–µ–Ω–Ω–æ–π –Ω–∞ –°–∞–π—Ç–µ.<br>
                    –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Äì –¥–µ–π—Å—Ç–≤–∏–µ (–æ–ø–µ—Ä–∞—Ü–∏—è) –∏–ª–∏ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π (–æ–ø–µ—Ä–∞—Ü–∏–π) —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤ –ø.–•.–•. –ü–æ–ª–∏—Ç–∏–∫–∏.
                </p>
                <p>
                    1.2. –í –Ω–∞—Å—Ç–æ—è—â–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ –∏ –≤—ã—Ç–µ–∫–∞—é—â–∏—Ö –∏–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö –°—Ç–æ—Ä–æ–Ω –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:<br>
                    –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äì –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —Å—É–±—ä–µ–∫—Ç–æ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º –¥–∞–Ω–Ω—ã–µ, –æ–±—ä–µ–º –∏ —Å–æ—Å—Ç–∞–≤ –∫–æ—Ç–æ—Ä—ã—Ö —É–∫–∞–∑–∞–Ω—ã –≤ –ø.–•.–•. –ü–æ–ª–∏—Ç–∏–∫–∏.<br>
                    –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Äì –û–û–û ¬´–†–æ–º–∞—à–∫–∞¬ª, –ò–ù–ù –•–•–•, –û–ì–†–ù –•–•–•, –ê–¥—Ä–µ—Å: –•–•–•–•–•, –≤ –∑–∞–∫–æ–Ω–Ω–æ–º –≤–ª–∞–¥–µ–Ω–∏–∏ –∏/–∏–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –°–∞–π—Ç. 
                    –í –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç–æ—è—â–µ–π –ü–æ–ª–∏—Ç–∏–∫–æ–π —Å–ª—É—á–∞—è—Ö –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.<br>
                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äì –ª–∏—Ü–æ, –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–µ –°–∞–π—Ç –≤ —Ü–µ–ª—è—Ö –∑–∞–∫–ª—é—á–µ–Ω–∏—è –∏/–∏–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –î–æ–≥–æ–≤–æ—Ä–æ–≤.<br>
                    –î–æ–≥–æ–≤–æ—Ä ‚Äì –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –°–∞–π—Ç–∞, –¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏, –¥–æ–≥–æ–≤–æ—Ä –ø–æ—Å—Ç–∞–≤–∫–∏, 
                    –¥–æ–≥–æ–≤–æ—Ä –ø–µ—Ä–µ–≤–æ–∑–∫–∏ –∏/–∏–ª–∏ –∏–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ –∫ –∑–∞–∫–ª—é—á–µ–Ω–∏—é –∏/–∏–ª–∏ –∑–∞–∫–ª—é—á–µ–Ω–Ω–æ–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ª—é–±–æ–π –æ—Ñ–µ—Ä—Ç—ã, —Ä–∞–∑–º–µ—â–µ–Ω–Ω–æ–π –Ω–∞ –°–∞–π—Ç–µ.<br>
                    –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Äì –¥–µ–π—Å—Ç–≤–∏–µ (–æ–ø–µ—Ä–∞—Ü–∏—è) –∏–ª–∏ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π (–æ–ø–µ—Ä–∞—Ü–∏–π) —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –≤ –ø.–•.–•. –ü–æ–ª–∏—Ç–∏–∫–∏.
                </p>
            </div>
        </div>
    </div>
    <script>
        function toggleContent() {
            event.preventDefault();
            const content = document.getElementById('overlay-block');
            if (content.style.display === "block") {
            content.style.display = "none";
            } else {
            content.style.display = "block";
            }
        }

        function isDesktopDevice() {
                return !/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            }

        window.onload = function() {
            if (isDesktopDevice()) {
                alert("–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å –ª—é–±–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ —á–µ—Ä–µ–∑ –ü–ö, –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üèóÔ∏è");
            } else {
                const authButton = document.getElementById('auth-button');

                authButton.addEventListener('click', () => {
                    if (Telegram.WebApp.initDataUnsafe.user) {
                        Telegram.WebApp.expand();
                        Telegram.WebApp.requestWriteAccess(() => {
                            sendDataToServer();
                        });
                    } else {
                        Telegram.WebApp.openTelegramLink("https://t.me/test_tma8_bot?startapp", "_blank");
                    }
                });

                function sendDataToServer() {
                    const initData = Telegram.WebApp.initData;

                    const form = document.createElement('form');
                    form.method = "POST";
                    form.action = "/";

                    const input = document.createElement("input");
                    input.type = "hidden";
                    input.name = 'initData';
                    input.value = initData;

                    form.appendChild(input);
                    document.body.appendChild(form)
                    form.submit();
                }
            }
        };
    </script>
</body>
</html>